In the second experiment, we examine how well TAG performs in the realistic simulation environment (discussed
in Section 5 above). In such an environment, without some technique to counteract loss, a large number of partial state records will invariably be dropped and not reach the root of the tree. We ran an experiment to measure the effect of this loss in the realistic environment. The simulation ran until the ?rst aggregate arrived at the root, and then the average number of motes involved in the aggregate over the next several epochs was measured. The “No Cache” line of Figure 7 shows the performance of this approach; at diameter 10, about 40% of the partial state records are re?ected in the aggregate at the root; by diameter 50, this percentage has fallen to less than 10%. Performance falls off as the number of hops between the average node and the root increases, since the probability of loss is compounded by each additional hop. Thus, the basic TAG approach presented so far, running on current prototype hardware (with its very high loss rates), is not highly tolerant to loss, especially for large networks. Note that any centralized approach would suffer from the same loss problems